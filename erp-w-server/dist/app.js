"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.app = void 0;
const app_logger_1 = __importDefault(require("./logger/app.logger"));
const express_1 = __importDefault(require("express"));
const passport_1 = __importDefault(require("passport"));
const express_session_1 = __importDefault(require("express-session"));
const routes_1 = require("./routes");
const app = (0, express_1.default)();
exports.app = app;
app.use(express_1.default.json());
app.use((0, express_session_1.default)({
    cookie: {
        maxAge: 24 * 60 * 60 * 1000,
        secure: true,
    },
    secret: 'any_long_and_random_string',
    resave: false,
    saveUninitialized: false,
}));
const appLogger = new app_logger_1.default();
appLogger.setupAppLogger();
app.use(express_1.default.json());
app.use(passport_1.default.initialize());
app.use(passport_1.default.session());
require('./middlewares/passport.config')(passport_1.default);
app.use('/api', routes_1.appRouter);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHFFQUE0QztBQUM1QyxzREFBOEI7QUFDOUIsd0RBQWdDO0FBQ2hDLHNFQUFzQztBQUV0QyxxQ0FBcUM7QUFFckMsTUFBTSxHQUFHLEdBQUcsSUFBQSxpQkFBTyxHQUFFLENBQUM7QUEyQmIsa0JBQUc7QUF6QlosR0FBRyxDQUFDLEdBQUcsQ0FBQyxpQkFBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7QUFDeEIsR0FBRyxDQUFDLEdBQUcsQ0FDTCxJQUFBLHlCQUFPLEVBQUM7SUFDTixNQUFNLEVBQUU7UUFDTixNQUFNLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSTtRQUMzQixNQUFNLEVBQUUsSUFBSTtLQUNiO0lBQ0QsTUFBTSxFQUFFLDRCQUE0QjtJQUNwQyxNQUFNLEVBQUUsS0FBSztJQUNiLGlCQUFpQixFQUFFLEtBQUs7Q0FDekIsQ0FBQyxDQUNILENBQUM7QUFFRixNQUFNLFNBQVMsR0FBRyxJQUFJLG9CQUFTLEVBQUUsQ0FBQztBQUNsQyxTQUFTLENBQUMsY0FBYyxFQUFFLENBQUM7QUFFM0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxpQkFBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7QUFFeEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxrQkFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7QUFDL0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxrQkFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7QUFHNUIsT0FBTyxDQUFDLCtCQUErQixDQUFDLENBQUMsa0JBQVEsQ0FBQyxDQUFDO0FBRW5ELEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLGtCQUFTLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBcHBMb2dnZXIgZnJvbSAnLi9sb2dnZXIvYXBwLmxvZ2dlcic7XG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5pbXBvcnQgc2Vzc2lvbiBmcm9tICdleHByZXNzLXNlc3Npb24nO1xuLy9pbXBvcnQgcm91dGVzXG5pbXBvcnQgeyBhcHBSb3V0ZXIgfSBmcm9tICcuL3JvdXRlcyc7XG4vL2V4cHJlc3MgYXBwXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZShcbiAgc2Vzc2lvbih7XG4gICAgY29va2llOiB7XG4gICAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDAsXG4gICAgICBzZWN1cmU6IHRydWUsXG4gICAgfSxcbiAgICBzZWNyZXQ6ICdhbnlfbG9uZ19hbmRfcmFuZG9tX3N0cmluZycsXG4gICAgcmVzYXZlOiBmYWxzZSxcbiAgICBzYXZlVW5pbml0aWFsaXplZDogZmFsc2UsXG4gIH0pLFxuKTtcblxuY29uc3QgYXBwTG9nZ2VyID0gbmV3IEFwcExvZ2dlcigpO1xuYXBwTG9nZ2VyLnNldHVwQXBwTG9nZ2VyKCk7XG5cbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuXG5hcHAudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7XG5hcHAudXNlKHBhc3Nwb3J0LnNlc3Npb24oKSk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzXG5yZXF1aXJlKCcuL21pZGRsZXdhcmVzL3Bhc3Nwb3J0LmNvbmZpZycpKHBhc3Nwb3J0KTtcblxuYXBwLnVzZSgnL2FwaScsIGFwcFJvdXRlcik7XG5leHBvcnQgeyBhcHAgfTtcbiJdfQ==